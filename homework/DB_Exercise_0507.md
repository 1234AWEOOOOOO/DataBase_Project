# 05/07 課堂練習 - Appendix E Common data models

## 目錄
1. [案例一：客戶訂單管理系統](#案例一客戶訂單管理系統)
   - [情境說明](#情境說明)
   - [範例資料](#範例資料)
2. [案例二：庫存控制系統](#案例二庫存控制系統)
   - [情境說明](#情境說明-1)
   - [範例資料](#範例資料-1)

---

## 案例一：客戶訂單管理系統

### 情境說明

一家零售公司需要建立資料庫以管理其訂單輸入活動。系統需要處理以下業務邏輯：
- 客戶可下一個或多個訂單，每張訂單包含一個或多個產品
- 每張訂單產生一張發票，可以透過支票、信用卡、現金等方式支付
- 系統記錄處理訂單的員工資訊
- 運輸部門員工負責包裝和發送訂單
- 當訂購產品缺貨時，可能需要多次配送來完成訂單

### 範例資料

#### Customer (客戶)

| customerNo | customerName | customerStreet    | customerCity | customerState | customerZipCode | custTelNo     | custFaxNo     | DOB        | maritalStatus | creditRating |
|------------|--------------|-------------------|--------------|---------------|----------------|---------------|---------------|------------|---------------|--------------|
| C001       | 陳大明       | 中正路123號       | 台北市       | 台北         | 10048          | 0912-345-678  | 02-2345-6789  | 1985-05-15 | 已婚          | A            |
| C002       | 林小華       | 復興南路45號      | 台北市       | 台北         | 10689          | 0923-456-789  | 02-3456-7890  | 1990-08-20 | 未婚          | B            |
| C003       | 張美玲       | 光復北路67號      | 新北市       | 新北         | 22103          | 0934-567-890  | 02-4567-8901  | 1982-11-30 | 已婚          | A            |
| C004       | 王小明       | 信義路四段189號   | 台北市       | 台北         | 10681          | 0945-678-901  | 02-5678-9012  | 1988-03-25 | 未婚          | C            |
| C005       | 李雅婷       | 成功路78號        | 桃園市       | 桃園         | 33043          | 0956-789-012  | 03-3789-0123  | 1979-09-18 | 已婚          | B            |
| C006       | 黃志偉       | NULL             | 高雄市       | 高雄         | 80144          | 0967-890-123  | NULL          | NULL       | 未婚          | D            |

> 註：C006是不完整的客戶資料，代表新增客戶時尚未填寫完整的情況。

#### Employee (員工)

| employeeNo | title | firstName | middleName | lastName | address            | workTelExt | homeTelNo    | empEmailAddress       | socialSecurityNumber | DOB        | position    | sex  | salary  | dateStarted |
|------------|-------|-----------|------------|----------|--------------------|-----------|--------------|-----------------------|----------------------|------------|-------------|------|---------|-------------|
| E001       | 先生  | 志明      |            | 李       | 和平東路156號      | 123       | 02-2789-0123 | lee.cm@company.com    | A123456789           | 1980-07-12 | 銷售主管    | 男   | 65000   | 2018-06-01  |
| E002       | 小姐  | 雅惠      |            | 王       | 忠孝西路234號      | 234       | 02-2890-1234 | wang.yh@company.com   | B234567890           | 1985-04-25 | 客服專員    | 女   | 45000   | 2019-03-15  |
| E003       | 先生  | 建宏      |            | 陳       | 南京東路五段67號   | 345       | 02-2901-2345 | chen.jh@company.com   | C345678901           | 1983-10-30 | 運輸專員    | 男   | 48000   | 2020-01-10  |
| E004       | 小姐  | 美玉      |            | 林       | 民生西路389號      | 456       | 02-3012-3456 | lin.my@company.com    | D456789012           | 1988-12-05 | 銷售專員    | 女   | 42000   | 2021-05-20  |
| E005       | 先生  | 偉誠      |            | 張       | 松山路45號         | 567       | 02-3123-4567 | chang.wc@company.com  | E567890123           | 1979-02-18 | 運輸主管    | 男   | 60000   | 2017-08-08  |
| E006       | 小姐  | 淑芬      |            | 吳       | NULL               | NULL      | 0912-345-678 | wu.sf@company.com     | F678901234           | 1992-11-15 | 實習生      | 女   | 28000   | 2025-04-01  |

> 註：E006代表新進員工，部分資料尚未完整建立。

#### PaymentMethod (付款方式)

| pMethodNo | paymentMethod |
|-----------|---------------|
| PM001     | 信用卡        |
| PM002     | 現金          |
| PM003     | 轉帳          |
| PM004     | 支票          |
| PM005     | 行動支付      |

#### Product (產品)

| productNo | productName     | serialNo   | unitPrice | quantityOnHand | reorderLevel | reorderQuantity | reorderLeadTime |
|-----------|-----------------|------------|-----------|----------------|--------------|-----------------|-----------------|
| P001      | 高級筆記型電腦  | SN00134567 | 35000     | 15             | 5            | 10              | 14              |
| P002      | 智慧型手機      | SN00234568 | 12500     | 25             | 10           | 20              | 7               |
| P003      | 無線耳機        | SN00334569 | 2500      | 30             | 15           | 30              | 5               |
| P004      | 平板電腦        | SN00434570 | 18000     | 12             | 8            | 15              | 10              |
| P005      | 智慧手錶        | SN00534571 | 5500      | 18             | 8            | 16              | 7               |
| P006      | 行動電源        | SN00634572 | 1200      | 0              | 10           | 20              | 5               |
| P007      | 藍牙音響        | NULL       | 4500      | 5              | 7            | 15              | 8               |

> 註：P006代表已售罄(庫存為0)的產品，P007代表缺少序號的產品。

#### Order (訂單)

| orderNo | orderDate  | billingStreet     | billingCity | billingState | billingZipCode | promisedDate | status   | customerNo | employeeNo |
|---------|------------|-------------------|-------------|--------------|----------------|--------------|----------|------------|------------|
| O001    | 2025-05-01 | 中正路123號       | 台北市      | 台北         | 10048          | 2025-05-08   | 已完成    | C001       | E001       |
| O002    | 2025-05-02 | 復興南路45號      | 台北市      | 台北         | 10689          | 2025-05-09   | 運送中    | C002       | E004       |
| O003    | 2025-05-03 | 光復北路67號      | 新北市      | 新北         | 22103          | 2025-05-10   | 處理中    | C003       | E001       |
| O004    | 2025-05-04 | 信義路四段189號   | 台北市      | 台北         | 10681          | 2025-05-11   | 待處理    | C004       | E004       |
| O005    | 2025-05-05 | 成功路78號        | 桃園市      | 桃園         | 33043          | 2025-05-12   | 已完成    | C005       | E001       |
| O006    | 2025-05-07 | NULL             | 高雄市      | 高雄         | 80144          | 2025-05-14   | 已取消    | C006       | E001       |

> 註：O006代表已取消的訂單，部分送貨資訊未完成。

#### OrderDetail (訂單明細)

| orderNo | productNo | quantityOrdered |
|---------|-----------|-----------------|
| O001    | P001      | 1               |
| O001    | P003      | 2               |
| O002    | P002      | 1               |
| O003    | P004      | 1               |
| O003    | P005      | 2               |
| O004    | P003      | 3               |
| O005    | P001      | 1               |
| O005    | P002      | 1               |
| O006    | P006      | 3               |
| O004    | P006      | 2               |

> 註：O004訂單的P006產品目前庫存為0，展示缺貨情況。O006是已取消訂單但仍保留訂單明細。

#### Invoice (發票)

| invoiceNo | dateRaised | datePaid   | creditCardNo      | holdersName | expiryDate | orderNo | pMethodNo |
|-----------|------------|------------|-------------------|-------------|------------|---------|-----------|
| I001      | 2025-05-01 | 2025-05-01 | 4321-8765-1234-5678 | 陳大明      | 2027-09    | O001    | PM001     |
| I002      | 2025-05-02 | 2025-05-02 | 5678-1234-8765-4321 | 林小華      | 2026-11    | O002    | PM001     |
| I003      | 2025-05-03 | NULL       | NULL               | NULL        | NULL       | O003    | PM002     |
| I004      | 2025-05-04 | NULL       | NULL               | NULL        | NULL       | O004    | PM003     |
| I005      | 2025-05-05 | 2025-05-05 | 8765-4321-5678-1234 | 李雅婷      | 2028-04    | O005    | PM001     |
| I006      | 2025-05-07 | 2025-05-07 | NULL               | NULL        | NULL       | O006    | PM004     |

> 註：I003和I004未付款，I006為已取消訂單但保留發票紀錄用於追蹤。

#### ShipmentMethod (運送方式)

| sMethodNo | shipmentMethod |
|-----------|---------------|
| SM001     | 標準運送      |
| SM002     | 快速運送      |
| SM003     | 當日運送      |
| SM004     | 國際運送      |
| SM005     | 自取          |

#### Shipment (運送)

| shipmentNo | quantity | shipmentDate | completeStatus | orderNo | productNo | employeeNo | sMethodNo |
|------------|----------|--------------|----------------|---------|-----------|------------|-----------|
| SH001      | 1        | 2025-05-02   | 已完成         | O001    | P001      | E003       | SM001     |
| SH002      | 2        | 2025-05-02   | 已完成         | O001    | P003      | E003       | SM001     |
| SH003      | 1        | 2025-05-03   | 運送中         | O002    | P002      | E003       | SM002     |
| SH004      | 1        | NULL         | 準備中         | O003    | P004      | E005       | SM001     |
| SH005      | 2        | NULL         | 準備中         | O003    | P005      | E005       | SM001     |
| SH006      | 1        | 2025-05-06   | 已完成         | O005    | P001      | E005       | SM003     |
| SH007      | 1        | 2025-05-06   | 已完成         | O005    | P002      | E005       | SM003     |
| SH008      | 1        | 2025-05-07   | 已退回         | O004    | P003      | E003       | SM002     |

> 註：SH004和SH005尚在準備階段，未有出貨日期。SH008代表已退回的貨物。

---

## 案例二：庫存控制系統

### 情境說明

一家零售公司需要建立資料庫以控制其庫存，功能包括：
- 產品分為多個類別（如服裝、食品和文具）
- 員工在產品庫存不足時提出採購訂單
- 系統追蹤收到的供應品、已售出單位和任何損耗情況

### 範例資料

#### Employee (員工)

| employeeNo | title | firstName | middleName | lastName | address            | workTelExt | homeTelNo    | empEmailAddress       | socialSecurityNumber | DOB        | position    | sex  | salary  | dateStarted |
|------------|-------|-----------|------------|----------|--------------------|-----------|--------------|-----------------------|----------------------|------------|-------------|------|---------|-------------|
| E001       | 先生  | 志明      |            | 李       | 和平東路156號      | 123       | 02-2789-0123 | lee.cm@company.com    | A123456789           | 1980-07-12 | 採購主管    | 男   | 65000   | 2018-06-01  |
| E002       | 小姐  | 雅惠      |            | 王       | 忠孝西路234號      | 234       | 02-2890-1234 | wang.yh@company.com   | B234567890           | 1985-04-25 | 庫存管理員  | 女   | 45000   | 2019-03-15  |
| E003       | 先生  | 建宏      |            | 陳       | 南京東路五段67號   | 345       | 02-2901-2345 | chen.jh@company.com   | C345678901           | 1983-10-30 | 倉儲專員    | 男   | 48000   | 2020-01-10  |
| E004       | 小姐  | 美玉      |            | 林       | 民生西路389號      | 456       | 02-3012-3456 | lin.my@company.com    | D456789012           | 1988-12-05 | 採購專員    | 女   | 42000   | 2021-05-20  |
| E005       | 先生  | 偉誠      |            | 張       | 松山路45號         | 567       | 02-3123-4567 | chang.wc@company.com  | E567890123           | 1979-02-18 | 庫存主管    | 男   | 60000   | 2017-08-08  |
| E006       | 小姐  | 淑芬      |            | 吳       | NULL               | NULL      | 0912-345-678 | wu.sf@company.com     | F678901234           | 1992-11-15 | 實習生      | 女   | 28000   | 2025-04-01  |

#### ProductCategory (產品類別)

| categoryNo | categoryDescription |
|------------|---------------------|
| CAT001     | 電子產品            |
| CAT002     | 食品                |
| CAT003     | 服裝                |
| CAT004     | 文具                |
| CAT005     | 家居用品            |
| CAT006     | 休閒娛樂            |

#### Product (產品)

| productNo | productName     | serialNo   | unitPrice | quantityOnHand | reorderLevel | reorderQuantity | reorderLeadTime | categoryNo |
|-----------|-----------------|------------|-----------|----------------|--------------|-----------------|-----------------|------------|
| P001      | 高級筆記型電腦  | SN00134567 | 35000     | 15             | 5            | 10              | 14              | CAT001     |
| P002      | 智慧型手機      | SN00234568 | 12500     | 25             | 10           | 20              | 7               | CAT001     |
| P003      | 無線耳機        | SN00334569 | 2500      | 30             | 15           | 30              | 5               | CAT001     |
| P004      | 義大利麵        | SN00434570 | 180       | 50             | 20           | 40              | 3               | CAT002     |
| P005      | 巧克力餅乾      | SN00534571 | 120       | 35             | 15           | 30              | 3               | CAT002     |
| P006      | 牛仔褲          | SN00634572 | 1200      | 0              | 10           | 20              | 5               | CAT003     |
| P007      | 棉質T恤         | NULL       | 450       | 5              | 7            | 15              | 4               | CAT003     |
| P008      | 鋼筆組          | SN00834574 | 350       | 12             | 8            | 16              | 5               | CAT004     |
| P009      | 筆記本          | SN00934575 | 80        | 100            | 50           | 100             | 2               | CAT004     |
| P010      | 床單套組        | SN01034576 | 1500      | 8              | 5            | 10              | 7               | CAT005     |
| P011      | 棋盤遊戲        | SN01134577 | 800       | 3              | 5            | 10              | 6               | CAT006     |

#### Supplier (供應商)

| supplierNo | supplierName   | supplierStreet   | supplierCity | supplierState | supplierZipCode | suppTelNo    | suppFaxNo     | suppEmailAddress      | suppWebAddress       | contactName | contactTelNo | contactFaxNo | contactEmailAddress   | paymentTerms   |
|------------|----------------|------------------|--------------|---------------|----------------|--------------|---------------|------------------------|----------------------|-------------|--------------|--------------|------------------------|----------------|
| S001       | 台灣電子有限公司 | 忠孝東路100號    | 台北市      | 台北          | 10050         | 02-2345-6789 | 02-2345-6780  | info@taiwan-elect.com  | www.taiwan-elect.com | 王大同      | 0912-345-678 | 02-2345-6780 | datong@taiwan-elect.com | 30天          |
| S002       | 環球食品股份公司 | 中山北路50號     | 台北市      | 台北          | 10444         | 02-3456-7890 | 02-3456-7891  | info@global-food.com   | www.global-food.com  | 陳小華      | 0923-456-789 | 02-3456-7891 | ch@global-food.com     | 15天          |
| S003       | 時尚服飾企業    | 敦化南路76號     | 台北市      | 台北          | 10689         | 02-4567-8901 | 02-4567-8902  | sales@fashion-co.com   | www.fashion-co.com   | 林美麗      | 0934-567-890 | 02-4567-8902 | linml@fashion-co.com   | 30天          |
| S004       | 文具大師公司    | 重慶南路一段8號  | 台北市      | 台北          | 10046         | 02-5678-9012 | 02-5678-9013  | info@stationery.com    | www.stationery.com   | 張建國      | 0945-678-901 | 02-5678-9013 | changjk@stationery.com | 45天          |
| S005       | 家居王企業      | 復興南路二段168號| 台北市      | 台北          | 10667         | 02-6789-0123 | 02-6789-0124  | service@home-king.com  | www.home-king.com    | 李小龍      | 0956-789-012 | 02-6789-0124 | lee@home-king.com      | 30天          |
| S006       | 玩具樂園有限公司 | NULL            | 台中市      | 台中          | 40756         | 04-2345-6789 | NULL          | fun@toyland.com        | NULL                 | NULL        | 0967-890-123 | NULL         | NULL                   | 預付          |

> 註：S006是不完整的供應商資料。

#### PurchaseOrder (採購訂單)

| purchaseOrderNo | purchaseOrderDescription | orderDate  | dateRequired | shippedDate | freightCharge | supplierNo | employeeNo |
|-----------------|--------------------------|------------|--------------|-------------|---------------|------------|------------|
| PO001           | 電子產品季度採購         | 2025-01-15 | 2025-01-30   | 2025-01-28  | 2000          | S001       | E001       |
| PO002           | 食品部門月度採購         | 2025-02-10 | 2025-02-20   | 2025-02-18  | 1500          | S002       | E004       |
| PO003           | 服裝部門季度採購         | 2025-03-05 | 2025-03-20   | 2025-03-19  | 2500          | S003       | E001       |
| PO004           | 文具部門補貨             | 2025-04-12 | 2025-04-20   | 2025-04-22  | 800           | S004       | E004       |
| PO005           | 家居用品採購             | 2025-05-01 | 2025-05-15   | 2025-05-14  | 1800          | S005       | E001       |
| PO006           | 緊急補貨 - 牛仔褲         | 2025-05-08 | 2025-05-12   | NULL        | 500           | S003       | E004       |
| PO007           | 棋盤遊戲補貨             | 2025-05-10 | 2025-05-25   | NULL        | NULL          | S006       | E001       |

> 註：PO006和PO007是尚未出貨的訂單。

#### Transaction (交易)

| transactionNo | transactionDate | transactionDescription | unitPrice | unitsOrdered | unitsReceived | unitsSold | unitsWastage | productNo | purchaseOrderNo |
|---------------|-----------------|------------------------|-----------|--------------|---------------|-----------|--------------|-----------|-----------------|
| T001          | 2025-01-28      | 筆電進貨               | 28000     | 10           | 10            | 0         | 0            | P001      | PO001           |
| T002          | 2025-01-28      | 手機進貨               | 9500      | 20           | 20            | 0         | 0            | P002      | PO001           |
| T003          | 2025-02-18      | 食品進貨 - 義大利麵    | 120       | 50           | 50            | 0         | 0            | P004      | PO002           |
| T004          | 2025-02-18      | 食品進貨 - 巧克力餅乾  | 80        | 100          | 98            | 0         | 2            | P005      | PO002           |
| T005          | 2025-03-01      | 筆電銷售               | 35000     | 0            | 0             | 5         | 0            | P001      | NULL            |
| T006          | 2025-03-19      | 服裝進貨 - 牛仔褲      | 800       | 30           | 30            | 0         | 0            | P006      | PO003           |
| T007          | 2025-03-19      | 服裝進貨 - T恤         | 300       | 40           | 40            | 0         | 0            | P007      | PO003           |
| T008          | 2025-04-05      | 手機銷售               | 12500     | 0            | 0             | 8         | 0            | P002      | NULL            |
| T009          | 2025-04-15      | 牛仔褲銷售             | 1200      | 0            | 0             | 25        | 0            | P006      | NULL            |
| T010          | 2025-04-22      | 文具進貨 - 鋼筆組      | 250       | 20           | 20            | 0         | 0            | P008      | PO004           |
| T011          | 2025-04-22      | 文具進貨 - 筆記本      | 50        | 200          | 200           | 0         | 0            | P009      | PO004           |
| T012          | 2025-04-30      | T恤銷售                | 450       | 0            | 0             | 35        | 0            | P007      | NULL            |
| T013          | 2025-05-05      | 牛仔褲銷售             | 1200      | 0            | 0             | 5         | 0            | P006      | NULL            |
| T014          | 2025-05-10      | 筆記本銷售             | 80        | 0            | 0             | 100       | 5            | P009      | NULL            |
| T015          | 2025-05-14      | 家居進貨 - 床單套組    | 1000      | 15           | 15            | 0         | 0            | P010      | PO005           |

> 註：T004顯示有2個單位的巧克力餅乾在運送過程中損壞。T014顯示有5個單位的筆記本在銷售過程中損壞。
